
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{方法概述}
%--------------------------
\textbf{用户交互} 用户可以先从数据库内选择一个基础模型（某部件或者某模型）。
接着，用户绘制草图创建代理模型，以表示造型意图（见第\ref{SubSecProxy}节）。系统实时地从数据库内提取一系列与草图相匹配的部件。
与现有方法不同，我们技术提示的部件可以是非常规部件，而现有方法仅可提示预分割的部件（如图~\ref{FigScreenShot}）。
%--------------------------
\begin{figure}\centering
\includegraphics[width=\linewidth]{./Mat/ScreenShot.pdf}
\caption{交互界面截图。界面内展示了当前模型，用户草图，代理模型，系统建议的非常规部件。}\label{FigScreenShot}
\end{figure}

用户从建议部件列表内选择满意的部件。该部件自动与当前模型组合。
如果没有满意的部件，用户可以编辑代理部件重新搜索，得到更多建议部件。该过程不断重复，直至用户满意。

%--------------------------
\textbf{离线阶段} 离线阶段，我们建立快速匹配数据结构（见第\ref{SubSecCtourIndex}节）与数据库模型的超面片图表示（见第\ref{SubSubSecSFG}节），用于实时提取候选部件。

为了建立快速匹配数据结构，我们首先提取数据库模型在不同视角下的轮廓（boundary contour）~\cite{DeCarlo2003}。
然后，将所有数据库模型轮廓组织到$k$NN图内，用于轮廓快速匹配。

为了建立数据库模型的超面片图表示形式，我们将模型分割成200个片断，每个片断做为一个超面片，并为相邻超面片建立边。边上权重描述了相邻超面片组成更大超面片的先验概率。
数据库模型的超面片图表示形式用于候选部件快速分割。

%--------------------------
\textbf{在线阶段} 在线阶段，用户创建代理模型后，我们基于轮廓匹配从数据库内实时提取一系列候选部件（见第\ref{SubSecPartRetr}节）。
用户可以对候选部件进一步优化（见第\ref{SecPartRefine}节）。 