
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{方法概述}
%--------------------------
\textbf{用户交互} 用户可以先从数据库内选择一个基础模型（某部件或者某模型）。
接着，用户绘制草图创建代理模型，以表示造型意图（第\ref{SubSecProxy}节）。系统实时地从数据库内提取一系列与草图相匹配的候选部件。
与现有方法不同，我们提示的部件可以是非常规部件，而现有方法仅可提示预分割的部件（如图~\ref{FigScreenShot}）。
%--------------------------
\begin{figure}\centering
\includegraphics[width=\linewidth]{./Mat/ScreenShot.pdf}
\caption[交互界面截图]{交互界面截图。界面内展示了当前模型，用户草图，代理模型，系统建议的非常规部件。}\label{FigScreenShot}
\end{figure}

用户从建议列表内选择满意的部件。该部件自动与当前模型组合到一起。
如果没有满意的部件，用户可以编辑代理部件重新搜索，得到更多建议部件。该过程不断重复，直至用户满意。

%--------------------------
\textbf{离线阶段} 离线阶段，我们建立快速匹配数据结构（第\ref{SubSecCtourIndex}节）与数据库模型的超面片图表示（第\ref{SubSubSecSFG}节），用于实时提取候选部件。

为了建立快速匹配数据结构，我们首先提取数据库模型在不同视角下的轮廓（boundary contour）~\cite{DeCarlo2003}。
然后，将所有数据库模型轮廓组织到$k$NN图内，用于轮廓快速匹配。

为了建立数据库模型的超面片图表示形式，我们将模型分割成200个片断，每个片断做为一个超面片，并为相似。
将数据库模型表示成超面片图形式是为了候选部件的快速提取。

%--------------------------
\textbf{在线阶段} 在线阶段，用户创建代理模型后，我们基于轮廓匹配从数据库内提取出一组与之相匹配的候选部件（第\ref{SubSecPartRetr}节）。
用户可以对候选部件进一步优化（第\ref{SecPartRefine}节）。

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\begin{figure}\centering
%\includegraphics[width=\linewidth]{./Mat/Pipeline.pdf}
%\caption[系统流程示意图]{系统流程示意图。离线阶段，我们首先为数据库模型（a）提取轮廓（b）；然后，建立三维模型超面片图（c）；最后，将所有模型的所有轮廓线组织到RC-$K$NNG内（d）。
%在线阶段，用户首先通过草图（红色）创建代理模型（当前模型内浅蓝色部件）表达造型意图（e）。
%系统通过模型局部匹配技术实时地提取与草图相匹配的部件（f），并按顺序提示给用户（浅蓝色）。
%用户选择满意的部件后，系统将它从三维模型上切割下来（g）并组合至当前模型（h）。}\label{FigPipeline}
%\end{figure} 